import os
import re

BASE_PATH = "/home/poweramanita/goldantelopeasia/moto_nhatrang"
WHATSAPP = "wa.me/84374961375"

raw_text = """–ê—Ä–µ–Ω–¥–∞ Yamaha Nouvo 4
–°—Ç–æ–∏–º–æ—Å—Ç—å: –û—Å–≤–æ–±–æ–¥–∏—Ç—Å—è 15.01, –û—Ç 3 –¥–Ω–µ–π 140–∫, –û—Ç 5 –¥–Ω–µ–π 100–∫, –û—Ç 10 –¥–Ω–µ–π 80–∫, 1,6 –º–ª–Ω/–º–µ—Å. –î–µ–ø–æ–∑–∏—Ç: 150$
–ê—Ä–µ–Ω–¥–∞ Yamaha Nouvo 4
–°—Ç–æ–∏–º–æ—Å—Ç—å: –û—Å–≤–æ–±–æ–¥–∏—Ç—Å—è 21.01, –û—Ç 3 –¥–Ω–µ–π 140–∫, –û—Ç 5 –¥–Ω–µ–π 100–∫, –û—Ç 10 –¥–Ω–µ–π 80–∫, 1,6 –º–ª–Ω/–º–µ—Å. –î–µ–ø–æ–∑–∏—Ç: 150$
–ê—Ä–µ–Ω–¥–∞ SYM Elizabeth
–°—Ç–æ–∏–º–æ—Å—Ç—å: –î–æ—Å—Ç—É–ø–µ–Ω, –û—Ç 3 –¥–Ω–µ–π 140–∫, –û—Ç 5 –¥–Ω–µ–π 100–∫, –û—Ç 10 –¥–Ω–µ–π 80–∫, 1,6 –º–ª–Ω/–º–µ—Å. –î–µ–ø–æ–∑–∏—Ç: 150$
–ê—Ä–µ–Ω–¥–∞ SYM Elizabeth Max
–°—Ç–æ–∏–º–æ—Å—Ç—å: –û—Å–≤–æ–±–æ–¥–∏—Ç—Å—è 12.12, –û—Ç 3 –¥–Ω–µ–π 140–∫, –û—Ç 5 –¥–Ω–µ–π 100–∫, –û—Ç 10 –¥–Ω–µ–π 80–∫, 1,6 –º–ª–Ω/–º–µ—Å. –î–µ–ø–æ–∑–∏—Ç: 150$
–ê—Ä–µ–Ω–¥–∞ Yamaha Nozza
–°—Ç–æ–∏–º–æ—Å—Ç—å: –î–æ—Å—Ç—É–ø–µ–Ω, –û—Ç 3 –¥–Ω–µ–π 150–∫, –û—Ç 5 –¥–Ω–µ–π 120–∫, –û—Ç 10 –¥–Ω–µ–π 80–∫, 1,6 –º–ª–Ω/–º–µ—Å. –î–µ–ø–æ–∑–∏—Ç: 150$
–ê—Ä–µ–Ω–¥–∞ Honda Lead
–°—Ç–æ–∏–º–æ—Å—Ç—å: –û—Å–≤–æ–±–æ–¥–∏—Ç—Å—è 15.01, –û—Ç 3 –¥–Ω–µ–π 150–∫, –û—Ç 5 –¥–Ω–µ–π 120–∫, –û—Ç 10 –¥–Ω–µ–π 100–∫, 1,7 –º–ª–Ω/–º–µ—Å. –î–µ–ø–æ–∑–∏—Ç: 200$
–ê—Ä–µ–Ω–¥–∞ Yamaha Nouvo 5
–°—Ç–æ–∏–º–æ—Å—Ç—å: 250–∫, –û—Ç 3 –¥–Ω 180–∫, –û—Ç 5 –¥–Ω 120–∫, –û—Ç 10 –¥–Ω 100–∫, 1,8 –º–ª–Ω/–º–µ—Å. –î–µ–ø–æ–∑–∏—Ç: 200$
–ê—Ä–µ–Ω–¥–∞ Yamaha Nouvo 6
–°—Ç–æ–∏–º–æ—Å—Ç—å: 250–∫, –û—Ç 3 –¥–Ω 200–∫, –û—Ç 5 –¥–Ω 160–∫, –û—Ç 10 –¥–Ω 140–∫, 2 –º–ª–Ω/–º–µ—Å. –î–µ–ø–æ–∑–∏—Ç: 300$
–ê—Ä–µ–Ω–¥–∞ Suzuki Impulse
–°—Ç–æ–∏–º–æ—Å—Ç—å: 250–∫, –û—Ç 3 –¥–Ω 200–∫, –û—Ç 5 –¥–Ω 160–∫, –û—Ç 10 –¥–Ω 140–∫, 2,2 –º–ª–Ω/–º–µ—Å. –î–µ–ø–æ–∑–∏—Ç: 300$
–ê—Ä–µ–Ω–¥–∞ Piagio Vespa
–°—Ç–æ–∏–º–æ—Å—Ç—å: 250–∫, –û—Ç 3 –¥–Ω 200–∫, –û—Ç 5 –¥–Ω 160–∫, –û—Ç 10 –¥–Ω 140–∫, 2,2 –º–ª–Ω/–º–µ—Å. –î–µ–ø–æ–∑–∏—Ç: 300$
–ê—Ä–µ–Ω–¥–∞ Yamaha NVX 155cc
–°—Ç–æ–∏–º–æ—Å—Ç—å: 300–∫, –û—Ç 3 –¥–Ω 250–∫, –û—Ç 5 –¥–Ω 200–∫, –û—Ç 10 –¥–Ω 180–∫, 2,8-3,2 –º–ª–Ω/–º–µ—Å. –î–µ–ø–æ–∑–∏—Ç: 500$
–ê—Ä–µ–Ω–¥–∞ Honda PCX
–°—Ç–æ–∏–º–æ—Å—Ç—å: 300–∫, –û—Ç 3 –¥–Ω 280–∫, –û—Ç 5 –¥–Ω 250–∫, –û—Ç 10 –¥–Ω 200–∫, 3,2 –º–ª–Ω/–º–µ—Å. –î–µ–ø–æ–∑–∏—Ç: 500$
–ê—Ä–µ–Ω–¥–∞ Suzuki Burgman
–°—Ç–æ–∏–º–æ—Å—Ç—å: 300–∫, –û—Ç 3 –¥–Ω 280–∫, –û—Ç 5 –¥–Ω 250–∫, –û—Ç 10 –¥–Ω 200–∫, 3,5 –º–ª–Ω/–º–µ—Å. –î–µ–ø–æ–∑–∏—Ç: 500$
–ê—Ä–µ–Ω–¥–∞ Yamaha Lexi 155cc
–°—Ç–æ–∏–º–æ—Å—Ç—å: 300–∫/—Å—É—Ç, 4 –º–ª–Ω/–º–µ—Å. –î–µ–ø–æ–∑–∏—Ç: 500$
Honda Shadow 600cc Custom
–°—Ç–æ–∏–º–æ—Å—Ç—å: 850–∫/—Å—É—Ç, 7 –º–ª–Ω/–º–µ—Å. –î–µ–ø–æ–∑–∏—Ç: 500$
–ê—Ä–µ–Ω–¥–∞ Kawasaki Z 1000
–°—Ç–æ–∏–º–æ—Å—Ç—å: 1500–∫/—Å—É—Ç, 1000–∫ –æ—Ç 10 –¥–Ω–µ–π. –î–µ–ø–æ–∑–∏—Ç: 1000$"""

def main():
    items = [i.strip() for i in raw_text.split('\n') if i.strip()]
    
    # –ü–æ–ª—É—á–∞–µ–º —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø–∞–ø–æ–∫ –≤ moto_nhatrang
    folders = sorted([d for d in os.listdir(BASE_PATH) if os.path.isdir(os.path.join(BASE_PATH, d))])
    
    # –°—á—ë—Ç—á–∏–∫ –¥–ª—è –∫–∞–∂–¥–æ–π –º–æ–¥–µ–ª–∏, —á—Ç–æ–±—ã —Å–æ–ø–æ—Å—Ç–∞–≤–∏—Ç—å –¥—É–±–ª–∏–∫–∞—Ç—ã (Nouvo 5_1, Nouvo 5_2 –∏ —Ç.–¥.)
    processed_folders = []

    for line in items:
        name_part = line.split('–°—Ç–æ–∏–º–æ—Å—Ç—å:')[0].replace('–ê—Ä–µ–Ω–¥–∞ ', '').strip()
        price_part = line.split('–°—Ç–æ–∏–º–æ—Å—Ç—å:')[1].strip() if '–°—Ç–æ–∏–º–æ—Å—Ç—å:' in line else ""
        
        clean_name = name_part.replace(' ', '_').replace('.', '_')
        
        # –ò—â–µ–º –ø–æ–¥—Ö–æ–¥—è—â—É—é –ø–∞–ø–∫—É, –∫–æ—Ç–æ—Ä—É—é –º—ã –µ—â–µ –Ω–µ –æ–±–Ω–æ–≤–ª—è–ª–∏ –≤ —ç—Ç–æ–º —Ü–∏–∫–ª–µ
        target_folder = None
        for f in folders:
            if clean_name.lower() in f.lower() and f not in processed_folders:
                target_folder = f
                processed_folders.append(f)
                break
        
        if target_folder:
            path = os.path.join(BASE_PATH, target_folder, "description.txt")
            
            # –§–æ—Ä–º–∏—Ä—É–µ–º —Ç–µ–∫—Å—Ç (–æ–∫–æ–ª–æ 300 –∑–Ω–∞–∫–æ–≤)
            final_desc = f"üõµ {name_part}\n\nüí∞ {price_part}\n\n‚úÖ –®–ª–µ–º—ã –∏ –¥–æ–∂–¥–µ–≤–∏–∫–∏ –≤–∫–ª—é—á–µ–Ω—ã. –ë–∞–π–∫ –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ–±—Å–ª—É–∂–µ–Ω.\n\nüì≤ –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ: {WHATSAPP}"
            
            with open(path, "w", encoding="utf-8") as f:
                f.write(final_desc)
            print(f"‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–æ: {target_folder}")

if __name__ == "__main__":
    main()
